<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@taglib prefix="c" uri="jakarta.tags.core"%>
<%@taglib prefix="fmt" uri="jakarta.tags.fmt"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
	crossorigin="anonymous" />
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
<link rel="stylesheet" href="/assets/css/home.css">
</head>
<body>
	<span class="top-bg-op-box"
		style="background-image: url('https://static.cdnno.com/storage/topbox/15d256d4071bbb3d0dd2a38cf1af8e5a.webp'); position: absolute; z-index: 0; left: 0px; overflow: hidden; width: 100%; height: 388px; background-repeat: no-repeat; background-position: 50% 0px; background-size: cover;"></span>
	<div style="height: 280px"></div>
	<main class="main pb-4">
		<link rel="stylesheet" href="/assets/css/buyBook.css" />
		<div class="container">
			<div class="page-content rounded-2 ">

				<div id="carouselExample" class="carousel slide">
					<div class="carousel-inner">
						<div class="carousel-item active">
							<div class="row">

								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/cotton/64/literature-1.png"
												alt="literature-1" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Truyện</h5>
										</div>
									</div>
								</div>


								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/nolan/64/code--v2.png"
												alt="code--v2" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Lập Trình</h5>
										</div>
									</div>
								</div>



								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/color/48/formula-fx.png"
												alt="formula-fx" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Toán Học</h5>
										</div>
									</div>
								</div>


								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/stickers/100/apple-music.png"
												alt="apple-music" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Âm Nhạc</h5>
										</div>
									</div>
								</div>




								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/stickers/100/historical.png"
												alt="historical" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Lịch Sử</h5>
										</div>
									</div>
								</div>




								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/stickers/100/globe.png"
												alt="globe" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Địa Lý</h5>
										</div>
									</div>
								</div>

							</div>
						</div>
						<div class="carousel-item">
							<div class="row">

								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/cotton/64/literature-1.png"
												alt="literature-1" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Truyện</h5>
										</div>
									</div>
								</div>


								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/nolan/64/code--v2.png"
												alt="code--v2" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Lập Trình</h5>
										</div>
									</div>
								</div>



								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/color/48/formula-fx.png"
												alt="formula-fx" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Toán Học</h5>
										</div>
									</div>
								</div>


								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/stickers/100/apple-music.png"
												alt="apple-music" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Âm Nhạc</h5>
										</div>
									</div>
								</div>




								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/stickers/100/historical.png"
												alt="historical" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Lịch Sử</h5>
										</div>
									</div>
								</div>

								<div class="col-md-2">
									<div class="card cardDanhMuc">
										<center>
											<img width="64" height="64"
												src="https://img.icons8.com/stickers/100/globe.png"
												alt="globe" />
										</center>
										<div class="card-body card-bd3">
											<h5 class="card-title">Địa Lý</h5>
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
					<button class="carousel-control-prev prev1" type="button"
						data-bs-target="#carouselExample" data-bs-slide="prev">
						<img width="50" height="50"
							src="https://img.icons8.com/plasticine/100/left-squared.png"
							alt="left-squared" /> <span class="visually-hidden">Previous</span>
					</button>
					<button class="carousel-control-next next1" type="button"
						data-bs-target="#carouselExample" data-bs-slide="next">
						<img width="50" height="50"
							src="https://img.icons8.com/plasticine/100/right-squared.png"
							alt="right-squared" /> <span class="visually-hidden">Next</span>
					</button>


				</div>
			</div>
			
			
			
			<div class="page-content rounded-2">
				<div class="row">
					<div class="col-md-6">
						<h4 class="titlePage1" style="margin-left: 20px; font-size: 30px">Bán
							chạy</h4>
					</div>

					<div class="col-md-6">
						<h6 class="xemThem" style="cursor: pointer;"><a href="/user/fillist/hot">Xem Thêm</a></h6>
					</div>
				</div>
				<div class="slider-container">
					<div class="slider1">
						<div class="cardMoi2">
							<div class="row">
								<c:forEach var="item" items="${listProductHot}">
									<!-- Sản phẩm -->
									<div class="col-md-3 SP">
										<div class="card">
											<div class="image-container">
												<img class="rounded-3 default-img" src="${item.image}"
													alt="Title" width="100%" height="" />
												<c:forEach var="itemImg" items="${item.imageProducts}">
													<img class="rounded-3 default-img" src="${itemImg.name}"
														alt="Title" width="100%" height="" />
												</c:forEach>
											</div>
											<div class="card-body">
												<h5 class="card-title">${item.name}</h5>
												<h5 class="card-text textOranger" style="color: red">
													<span
														style="text-decoration: line-through; color: rgba(0, 0, 0, 0.463)"><fmt:formatNumber>${item.price}</fmt:formatNumber><sup>đ</sup></span>
													<fmt:formatNumber>${item.price-item.discount}</fmt:formatNumber>
													<sup>đ</sup>
												</h5>

												<div class="star">
													<span class="active" style="width: 100%;"> <c:set
															var="totalStar" value="0" /> <c:forEach var="it"
															items="${item.evalues}">
															<c:set var="totalStar" value="${totalStar+it.star}" />
														</c:forEach> <c:forEach begin="1"
															end="${totalStar/item.evalues.size()}">
															<i class="bi bi-star-fill text-warning"></i>
														</c:forEach>

													</span> <span class="d-inline-block ml-2">Đã bán <fmt:formatNumber>${item.quantitySell}</fmt:formatNumber>
													</span>
												</div>
												<div class="row">
													<a class="col-md-6 btn btn-outline-danger"
														href="/user/buybookdetails/${item.id}">Mua Ngay</a>
													<div class="col-md-6 ">
														<i class="bi bi-heart-fill heard"></i>
													</div>
												</div>
											</div>
										</div>
									</div>
								</c:forEach>

							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="page-content rounded-2">
				<div class="row">
					<div class="col-md-6">
						<h4 class="titlePage1" style="margin-left: 20px; font-size: 30px">Mới
							Nhất</h4>
					</div>

					<div class="col-md-6">
						<h6 class="xemThem" style="cursor: pointer;"><a href="/user/fillist/new" >Xem Thêm</a></h6>
					</div>
				</div>
				<div class="slider-container">
					<div class="slider">
						<c:forEach var="item" items="${listProductNew}">
							<div class="card SP cardMoi">
								<div class="image-container">
									<img class="rounded-3 default-img" src="${item.image}"
										alt="Title" width="100%" height="" />
									<c:forEach var="itemImg" items="${item.imageProducts}">
										<img class="rounded-3 default-img" src="${itemImg.name}"
											alt="Title" width="100%" height="" />
									</c:forEach>
								</div>
								<div class="card-body">
									<h5 class="card-title">${item.name}</h5>
									<h5 class="card-text textOranger" style="color: red">
										<span
											style="text-decoration: line-through; color: rgba(0, 0, 0, 0.463)"><fmt:formatNumber>${item.price}</fmt:formatNumber><sup>đ</sup></span>
										<fmt:formatNumber>${item.price-item.discount}</fmt:formatNumber>
										<sup>đ</sup>
									</h5>

									<div class="star">
										<span class="active" style="width: 100%;"> <c:set
												var="totalStar" value="0" /> <c:forEach var="it"
												items="${item.evalues}">
												<c:set var="totalStar" value="${totalStar+it.star}" />
											</c:forEach> <c:forEach begin="1" end="${totalStar/item.evalues.size()}">
												<i class="bi bi-star-fill text-warning"></i>
											</c:forEach>

										</span> <span class="d-inline-block ml-2">Đã bán <fmt:formatNumber>${item.quantitySell}</fmt:formatNumber>
										</span>
									</div>
									<div class="row">
										<a class="col-md-6 btn btn-outline-danger"
											href="/user/buybookdetails/${item.id}">Mua Ngay</a>
										<div class="col-md-6 ">
											<i class="bi bi-heart-fill heard"></i>
										</div>
									</div>
								</div>
							</div>
						</c:forEach>

					</div>
				</div>
			</div>
	</main>
	<script>
          const slider = document.querySelector('.slider');
          let isDown = false;
          let startX;
          let scrollLeft;
          const slider1 = document.querySelector('.slider1');
  
          slider.addEventListener('mousedown', (e) => {
              isDown = true;
              startX = e.pageX - slider.offsetLeft;
              scrollLeft = slider.scrollLeft;
          });
  
          slider.addEventListener('mouseleave', () => {
              isDown = false;
          });
  
          slider.addEventListener('mouseup', () => {
              isDown = false;
          });
  
          slider.addEventListener('mousemove', (e) => {
              if (!isDown) return;
              e.preventDefault();
              const x = e.pageX - slider.offsetLeft;
              const walk = (x - startX) * 2; // The multiplication factor controls the speed of the scroll
              slider.scrollLeft = scrollLeft - walk;
          });


          slider1.addEventListener('mousedown', (e) => {
              isDown = true;
              startX = e.pageX - slider1.offsetLeft;
              scrollLeft = slider1.scrollLeft;
          });
  
          slider1.addEventListener('mouseleave', () => {
              isDown = false;
          });
  
          slider1.addEventListener('mouseup', () => {
              isDown = false;
          });
  
          slider1.addEventListener('mousemove', (e) => {
              if (!isDown) return;
              e.preventDefault();
              const x = e.pageX - slider1.offsetLeft;
              const walk = (x - startX) * 2; // The multiplication factor controls the speed of the scroll
              slider1.scrollLeft = scrollLeft - walk;
          });
      </script>
	<script src="/assets/js/sanPham.js"></script>
</body>
</html>